<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Azbry AI</title>

    <!-- Azbry Theme -->
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <div class="app-wrapper">
      <!-- ================= AUTH SECTION ================= -->
      <section id="authSection" class="auth-section">
        <div class="auth-card">
          <h1 class="auth-title">Azbry AI</h1>
          <p class="auth-subtitle">
            Silahkan login terlebih dahulu sebelum melanjutkan, jika belum punya akun silahkan Daftar
          </p>

          <form id="authForm" class="auth-form">
            <div class="form-group">
              <label for="authEmail">Email</label>
              <input
                type="email"
                id="authEmail"
                placeholder="contoh: lu@mail.com"
                required
              />
            </div>

            <div class="form-group">
              <label for="authPassword">Password</label>
              <input
                type="password"
                id="authPassword"
                placeholder="minimal 6 karakter"
                required
              />
            </div>

            <button id="authSubmit" type="submit" class="btn-primary">
              Login
            </button>

            <button
              id="toggleAuthMode"
              type="button"
              class="btn-ghost auth-toggle"
            >
              Belum punya akun? Daftar
            </button>
          </form>
        </div>
      </section>

      <!-- ================= CHAT SECTION ================= -->
      <section id="chatSection" class="chat-section" style="display: none">
        <!-- HEADER -->
        <header class="chat-header">
          <div class="chat-title">
            <h1>Azbry AI</h1>
            <span>Asisten Pribadi berbasis Artificial Intelligence</span>
          </div>

          <div class="chat-header-right">
            <div class="chat-user-info">
              <span class="chat-user-label">Logged in as</span>
              <span id="userEmailLabel" class="chat-user-email">-</span>
            </div>

            <button id="logoutButton" class="logout-btn">Keluar</button>

            <div class="chat-status-pill">
              <span class="chat-status-dot"></span>
              <span>Online</span>
            </div>
          </div>
        </header>

        <!-- CHAT WINDOW -->
        <section class="chat-window">
          <div id="chatContainer">
            <!-- Bubble chat bakal diisi lewat script.js -->
          </div>

          <!-- INPUT AREA -->
          <form id="chatForm" class="chat-input-area">
            <div class="chat-input">
              <textarea
                id="messageInput"
                rows="1"
                placeholder="Tulis pesan ke Azbry AI..."
              ></textarea>
            </div>
            <button id="sendButton" type="submit" class="send-btn">
              <span>âž¤</span>
            </button>
          </form>
        </section>
      </section>
    </div>

    <!-- SCRIPTS -->
    <!-- Supabase client harus ada sebelum script.js -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="script.js"></script>
  </body>
</html>
